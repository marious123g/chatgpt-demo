---
import Layout from '../layouts/Layout.astro'
import Header from '../components/Header.astro'
import Footer from '../components/Footer.astro'
import Generator from '../components/Generator'
import '../message.css'
import 'katex/dist/katex.min.css'
import 'highlight.js/styles/atom-one-dark.css'
---

<astro>
    <!--用defer防止闪动-->
    <script defer>
        // 检查用户登录状态，如未登录则跳转
        const username = window.sessionStorage.getItem("username");
        console.log("当前登录用户：", username);
        if (username == '' || username == null) {
            window.location.href = '/login';
        }
    </script>

    <Layout title="ChatGPT API Demo">
        <main>
            <Header/>
            <Generator client:load/>
            <Footer/>
        </main>
    </Layout>
</astro>

